<!DOCTYPE html>
<html lang="hu">
<head>
    <meta charset="UTF-8">
    <title>Teszt Oldal</title>
    <!-- Favicon hozz√°ad√°sa a 404-es hiba elker√ºl√©s√©re -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üìÑ</text></svg>">
    <style>
        body {
            margin: 0;
            padding: 0;
            background-color: white;
            font-family: Arial, sans-serif;
        }
        .navbar {
            background-color: #f8f8f8;
            padding: 15px;
            border-bottom: 1px solid #ddd;
        }
        .navbar a {
            margin: 0 15px;
            text-decoration: none;
            color: black;
        }
        .page {
            display: none;
            padding: 20px;
        }
        .page.active {
            display: block;
        }
        
        /* √öj st√≠lusok a popup-hoz */
        .popup-container {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background-color: #f8f8f8;
            border: 2px solid #ddd;
            border-radius: 8px;
            padding: 20px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
            z-index: 1000;
        }
        .popup-container.active {
            display: block;
        }
        .close-btn {
            position: absolute;
            top: 5px;
            right: 10px;
            cursor: pointer;
            font-size: 18px;
        }
    </style>
</head>
<body>
    <div class="navbar">
        <a href="#fooldal" onclick="showPage('fooldal')">F≈ëoldal</a>
        <a href="#kezel√©sek" onclick="showPage('kezel√©sek')">Kezel√©sek</a>
        <a href="#implantatumok" onclick="showPage('implantatumok')">Implant√°tumok</a>
    </div>
    <div id="fooldal" class="page active">
        <h1>Teszt Oldal</h1>
        <p>√ân vagyok a f≈ëoldal</p>
    </div>
    <div id="kezel√©sek" class="page">
        <h1>Kezel√©sek</h1>
        <p>Itt megismerheted a kezel√©seinket</p>
    </div>
    <div id="implantatumok" class="page">
        <h1>Implant√°tumok</h1>
        <p>Itt megismerheted implant√°tumainkat</p>
    </div>
    
    <!-- √öj popup kont√©ner -->
    <div id="launcherPopup" class="popup-container">
        <span class="close-btn" onclick="closePopup()">√ó</span>
        <h2>Gomb megtal√°lva</h2>
    </div>
    
    <script>
        // Oldalv√°lt√°s logika
        function showPage(pageId) {
            document.querySelectorAll('.page').forEach(page => page.classList.remove('active'));
            document.getElementById(pageId).classList.add('active');
            window.location.hash = pageId;
        }
        const initialPageId = window.location.hash.slice(1) || 'fooldal';
        showPage(initialPageId);
        
        // Popup kezel√©se
        function showPopup() {
            console.log('Popup megjelenik');
            document.getElementById('launcherPopup').classList.add('active');
        }
        
        function closePopup() {
            document.getElementById('launcherPopup').classList.remove('active');
        }
        
        // Voiceflow launcher gomb figyel√©se
        document.addEventListener('DOMContentLoaded', function() {
            // V√°rni kell, am√≠g a Voiceflow bet√∂lt≈ëdik
            setTimeout(function() {
                const voiceflowChat = document.querySelector('#voiceflow-chat');
                
                if (voiceflowChat) {
                    console.log('voiceflow-chat megtal√°lva');
                    
                    // Shadow DOM-on bel√ºli elemhez hozz√°f√©r√©s
                    const shadowRoot = voiceflowChat.shadowRoot;
                    if (shadowRoot) {
                        console.log('shadow dom megtal√°lva');
                        
                        // Ellen≈ërizz√ºk, hogy a launcher gomb m√°r l√©tezik-e
                        const launcherButton = shadowRoot.querySelector('.vfrc-launcher');
                        if (launcherButton) {
                            console.log('gomb megtal√°lva');
                            addEventListenerToLauncher(launcherButton);
                        } else {
                            // MutationObserver be√°ll√≠t√°sa, hogy figyelje a DOM v√°ltoz√°sokat
                            const observer = new MutationObserver(function() {
                                const launcherButton = shadowRoot.querySelector('.vfrc-launcher');
                                if (launcherButton) {
                                    console.log('gomb megtal√°lva');
                                    addEventListenerToLauncher(launcherButton);
                                    observer.disconnect();
                                }
                            });
                            
                            // A teljes shadow DOM-ot figyelj√ºk
                            observer.observe(shadowRoot, { 
                                childList: true, 
                                subtree: true 
                            });
                        }
                    }
                }
            }, 2000);
        });
        
        function addEventListenerToLauncher(launcherButton) {
            launcherButton.addEventListener('click', function() {
                console.log('gombra kattint√°s t√∂rt√©nt');
                showPopup();
            });
        }
    </script>
    <script type="text/javascript">
        (function(d, t) {
            var v = d.createElement(t), s = d.getElementsByTagName(t)[0];
            v.onload = function() {
                window.voiceflow.chat.load({
                    verify: { projectID: '67ffb52d503fdd626caa0ded' },
                    url: 'https://general-runtime.voiceflow.com',
                    versionID: 'production',
                    voice: {
                        url: "https://runtime-api.voiceflow.com"
                    }
                });
            };
            v.src = "https://cdn.voiceflow.com/widget-next/bundle.mjs"; 
            v.type = "text/javascript"; 
            s.parentNode.insertBefore(v, s);
        })(document, 'script');
    </script>
</body>
</html>
